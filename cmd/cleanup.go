package main

import (
	"fmt"
	"os"
	"time"

	"github.com/yxhpy/v2ray-subscription-manager/internal/utils"
)

func main() {
	fmt.Printf("ğŸ§¹ æ‰‹åŠ¨æ¸…ç†æ‰€æœ‰ä¸´æ—¶æ–‡ä»¶å’Œè¿›ç¨‹...\n")
	fmt.Printf("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n")

	// æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•
	if wd, err := os.Getwd(); err == nil {
		fmt.Printf("ğŸ“ å½“å‰ç›®å½•: %s\n", wd)
	}

	// æ˜¾ç¤ºå¼€å§‹æ—¶é—´
	startTime := time.Now()
	fmt.Printf("â° å¼€å§‹æ—¶é—´: %s\n", startTime.Format("2006-01-02 15:04:05"))
	fmt.Printf("\n")

	// æ‰§è¡Œå¼ºåˆ¶æ¸…ç†
	utils.ForceCleanupAll()

	// æ˜¾ç¤ºå®Œæˆä¿¡æ¯
	elapsed := time.Since(startTime)
	fmt.Printf("\n")
	fmt.Printf("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n")
	fmt.Printf("âœ… æ¸…ç†å®Œæˆï¼è€—æ—¶: %.2f ç§’\n", elapsed.Seconds())
	fmt.Printf("ğŸ§¹ æ‰€æœ‰ä¸´æ—¶æ–‡ä»¶å’ŒçŠ¶æ€æ–‡ä»¶å·²åˆ é™¤\n")
	fmt.Printf("ğŸ’€ æ‰€æœ‰ç›¸å…³è¿›ç¨‹å·²ç»ˆæ­¢\n")
	fmt.Printf("ğŸ” æ¸…ç†ç»“æœå·²éªŒè¯\n")
	fmt.Printf("\n")
	fmt.Printf("ğŸ’¡ æç¤ºï¼š\n")
	fmt.Printf("   â€¢ é‡æ–°å¯åŠ¨auto-proxyæœåŠ¡å°†ä¼šé‡æ–°åˆ›å»ºå¿…è¦çš„æ–‡ä»¶\n")
	fmt.Printf("   â€¢ å¦‚æœå‘ç°æ®‹ç•™æ–‡ä»¶æˆ–è¿›ç¨‹ï¼Œå¯ä»¥å†æ¬¡è¿è¡Œæ­¤å·¥å…·\n")
	fmt.Printf("   â€¢ å»ºè®®åœ¨auto-proxyå®Œå…¨åœæ­¢åè¿è¡Œæ­¤æ¸…ç†å·¥å…·\n")
}
