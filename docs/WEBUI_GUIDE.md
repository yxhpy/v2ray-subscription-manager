# V2Ray 订阅管理器 Web UI 使用指南

## 概述

V2Ray 订阅管理器 Web UI 是一个简洁的网页界面，提供直观的图形化管理功能。通过浏览器即可完成订阅解析、代理管理、测速等操作。

## 特性

- 🌐 **现代化界面** - 响应式设计，支持桌面和移动设备
- 📊 **实时状态** - 实时显示系统和代理状态
- 🔧 **简单配置** - 图形化配置界面，无需命令行
- 📱 **移动友好** - 适配移动设备，随时随地管理

## 快速开始

### 1. 构建 Web UI

```bash
# 构建所有平台版本
./scripts/build_webui.sh

# 或者构建当前平台版本
go build -o webui ./cmd/web-ui/
```

### 2. 启动服务

```bash
# 使用默认端口 8888
./webui

# 指定端口
./webui 9999
```

### 3. 访问界面

打开浏览器访问：`http://localhost:8888`

## 界面功能

### 🏠 仪表板

- **系统状态监控** - 显示服务运行状态
- **代理状态监控** - 显示当前代理状态
- **订阅状态显示** - 显示订阅配置状态

### 📡 订阅管理

- **订阅链接解析** - 输入订阅链接并解析节点
- **节点列表显示** - 显示所有可用节点
- **协议类型标识** - 清晰显示每个节点的协议类型

### 🌐 代理管理

- **一键启动/停止** - 简单的代理控制
- **连接测试** - 测试代理连接状态
- **端口信息显示** - 显示HTTP和SOCKS端口

### ⚡ 测速工具

- **快速测试** - 快速测试主要节点
- **完整测试** - 测试所有节点性能
- **结果展示** - 表格形式显示测速结果

### ⚙️ 设置

- **端口配置** - 自定义HTTP和SOCKS端口
- **测试URL配置** - 自定义连接测试URL
- **配置保存** - 持久化保存设置

## 使用步骤

### 第一次使用

1. **启动Web UI**
   ```bash
   ./webui
   ```

2. **打开浏览器**
   访问 `http://localhost:8888`

3. **配置订阅**
   - 点击"订阅管理"标签
   - 输入您的订阅链接
   - 点击"解析订阅"

4. **启动代理**
   - 切换到"代理管理"标签
   - 点击"启动代理"
   - 查看代理状态

5. **测试连接**
   - 点击"测试连接"验证代理是否正常工作

### 日常使用

1. **查看状态** - 在仪表板查看整体状态
2. **切换节点** - 在订阅管理中选择不同节点
3. **性能测试** - 使用测速工具找出最佳节点
4. **调整设置** - 根据需要修改端口和测试URL

## 技术架构

### 前端技术栈

- **HTML5** - 语义化标记
- **CSS3** - 现代样式和动画
- **JavaScript ES6+** - 原生JavaScript，无框架依赖

### 后端架构

- **Go HTTP服务器** - 轻量级Web服务
- **RESTful API** - 标准API接口
- **内置模板** - 无需外部依赖

### 目录结构

```
web/
├── static/
│   ├── css/
│   │   └── style.css      # 样式文件
│   └── js/
│       └── app.js         # 前端逻辑
└── templates/             # HTML模板（可选）
```

## API 接口

### 状态查询

```http
GET /api/status
```

**响应示例：**
```json
{
  "server_status": "running",
  "version": "2.0.0",
  "timestamp": "1234567890"
}
```

### 未来扩展接口

计划支持的API接口：

- `POST /api/subscription` - 解析订阅
- `POST /api/proxy/start` - 启动代理
- `POST /api/proxy/stop` - 停止代理
- `GET /api/proxy/status` - 代理状态
- `POST /api/speedtest` - 开始测速
- `GET /api/speedtest/results` - 获取测速结果

## 配置说明

### 端口配置

- **Web UI端口** - 默认8888，可通过命令行参数修改
- **HTTP代理端口** - 默认8080，可在设置页面修改
- **SOCKS代理端口** - 默认1080，可在设置页面修改

### 安全考虑

- **本地访问** - 默认只监听本地地址
- **无认证** - 当前版本无身份验证，仅适用于本地使用
- **HTTPS** - 未来版本将支持HTTPS

## 故障排除

### 常见问题

1. **无法访问Web界面**
   - 检查端口是否被占用
   - 确认防火墙设置
   - 尝试使用不同端口

2. **静态文件无法加载**
   - 确保`web/static/`目录存在
   - 检查文件权限
   - 查看浏览器控制台错误

3. **API请求失败**
   - 检查网络连接
   - 查看浏览器开发者工具
   - 确认后端服务正常运行

### 调试模式

启动时添加调试参数：
```bash
./webui -debug 8888
```

## 更新日志

### v1.0.0 (当前版本)
- ✅ 基础Web UI框架
- ✅ 响应式设计
- ✅ 基本页面结构
- ✅ 状态API接口
- ✅ 前端交互逻辑

### 未来版本计划
- 🔄 后端API集成
- 🔄 实时数据更新
- 🔄 用户认证系统
- 🔄 主题切换功能
- 🔄 多语言支持

## 贡献指南

欢迎为Web UI功能贡献代码：

1. **前端改进** - CSS样式优化、交互增强
2. **后端API** - 集成现有命令行功能
3. **文档完善** - 使用说明和API文档
4. **测试用例** - 自动化测试和用例

## 许可证

本项目遵循 MIT 许可证。 